# phpstats

phpstats — это небольшая утилита для сбора статистики проектов на PHP.

### Установка

```
go get github.com/i582/phpstats
```

### Использование

```
collect [--project-path <value>] <dir>
```

Флаг `--project-path` устанавливает директорию относительно которой будут разрешаться пути к файлам при импортировании. Если флаг не проставлен, директория устанавливается в значение текущей анализируемой директории.

После сбора информации вы попадете в интерактивную оболочку, для помощи введите `help`.



### Roadmap

#### Команда `info`

1. Вывод информации о классе
   * [x] Афферентность (количество классов от которых зависит класс)
     * [x] Учитывать константы
     * [x] Учитывать методы
     * [x] Учитывать статические методы
     * [x] Учитывать использование new
   * [x] Эфферентность (количество классов которые зависит от класса)
     * [x] Учитывать константы
     * [x] Учитывать методы
     * [x] Учитывать статические методы
     * [x] Учитывать использование new
   * [x] Стабильность Эфферентность / (Эфферентность + Афферентность)
   * [x] Расчет LCOM
   * [x] Какие реализует интерфейсы
     * [ ] Выводить рекурсивно?
   * [x] От какого класса наследуется
     * [ ] Выводить рекурсивно?
* [x] Список методов
   
2. Вывод информации о функции/методе

   * [x] Вывод места определения (или информацию о том, что функция встроенная)
   * [x] Вывод количества использований
   * [x] Вывод вызываемых внутри функций
3. Вывод информации о файле

   * [x] Вывод подключаемых файлов в корне
   * [x] Вывод подключаемых файлов в функциях
   * [ ] Вывод классов определенных внутри
   * [ ] Вывод функций определенных внутри

#### Команда `list`

1. Выводить список классов
   * [x] Возможность указывать количество
   * [x] Возможность указывать сдвиг
2. Выводить список интерфейсов
   * [x] Возможность указывать количество
   * [x] Возможность указывать сдвиг
3. Выводить список файлов
   * [x] Возможность указывать количество
   * [x] Возможность указывать сдвиг
4. Выводить список функций
   * [x] Возможность указывать количество
   * [x] Возможность указывать сдвиг
5. Выводить список методов
   * [x] Возможность указывать количество
   * [x] Возможность указывать сдвиг

#### Команда `graph`

1. Вывод информации о файле
    * [x] Вывод зависимостей файла в Graphviz формате
      * [x] Возможность указать максимальный уровень вложенности
      * [x] Разделять подключения в корне и функциях



### Лицензия

MIT